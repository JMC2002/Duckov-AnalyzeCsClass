namespace Duckov.BlackMarkets
public class BlackMarket: MonoBehaviour

  4 个 ClassLike:
      public class OnRequestMaxRefreshChanceEventContext
      public class OnRequestRefreshTimeFactorEventContext
      public class DemandSupplyEntry
      public struct SaveData
  15 个 Method:
      public void Add(int count = 1)
      public void Add(float count = -0.1f)
      internal void NotifyChange()
      public static void NotifyMaxRefreshChanceChanged()
      private ItemFilter ContructRandomFilter()
      public async UniTask<bool> Buy(DemandSupplyEntry entry)
      public async UniTask<bool> Sell(DemandSupplyEntry entry)
      private void GenerateDemandsAndSupplies()
      public void PayAndRegenerate()
      private void FixedUpdate()
      private void Awake()
      private void Start()
      private void OnDestroy()
      private void Save()
      private void Load()
  32 个 Field:
      private int value
      private float value
      internal int itemID
      internal int remaining
      internal float priceFactor
      internal int batchCount
      public bool valid
      public long lastRefreshedTimeRaw
      public int refreshChance
      public DemandSupplyEntry[] demands
      public DemandSupplyEntry[] supplies
      private int demandsCount
      private int suppliesCount
      private List<Tag> excludeTags
      private RandomContainer<Tag> tags
      private RandomContainer<int> qualities
      private RandomContainer<int> demandAmountRand
      private RandomContainer<float> demandFactorRand
      private RandomContainer<int> demandBatchCountRand
      private RandomContainer<int> supplyAmountRand
      private RandomContainer<float> supplyFactorRand
      private RandomContainer<int> supplyBatchCountRand
      private long timeToRefresh
      private int refreshChance
      private static bool dirty
      private int cachedMaxRefreshChance
      private long lastRefreshedTimeRaw
      private ReadOnlyCollection<DemandSupplyEntry> _demands_readonly
      private ReadOnlyCollection<DemandSupplyEntry> _supplies_readonly
      public static event Action<BlackMarket> onRefreshChanceChanged
      public static event Action<OnRequestMaxRefreshChanceEventContext> onRequestMaxRefreshChance
      public static event Action<OnRequestRefreshTimeFactorEventContext> onRequestRefreshTime
  18 个 Property:
      public int Value
      public float Value
      public int ItemID
      internal ItemMetaData ItemMetaData
      public int Remaining
      public int TotalPrice
      public Cost BuyCost
      public Cost SellCost
      public string ItemDisplayName
      public static BlackMarket Instance
      public int RefreshChance
      public int MaxRefreshChance
      private TimeSpan TimeToRefresh
      private DateTime LastRefreshedTime
      private TimeSpan TimeSinceLastRefreshedTime
      public TimeSpan RemainingTimeBeforeRefresh
      public ReadOnlyCollection<DemandSupplyEntry> Demands
      public ReadOnlyCollection<DemandSupplyEntry> Supplies
  1 个 Constant:
      private const string SaveKey
