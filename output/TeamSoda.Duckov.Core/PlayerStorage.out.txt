public class PlayerStorage: MonoBehaviour, IInitializedQueryHandler

  1 个 ClassLike:
      public class StorageCapacityCalculationHolder
  16 个 Method:
      public static bool IsAccessableAndNotFull()
      public static void NotifyCapacityDirty()
      private void Awake()
      private void Start()
      private void OnDestroy()
      private void SavesSystem_OnSetFile()
      private void SavesSystem_OnCollectSaveData()
      private void OnInventoryContentChanged(Inventory inventory, int index)
      public static void Push(Item item, bool toBufferDirectly = false)
      private void Save()
      private async UniTask Load()
      private void Update()
      public static int RecalculateStorageCapacity()
      private void SetCapacity(int capacity)
      public static async UniTask TakeBufferItem(int index)
      public bool HasInitialized()
  11 个 Field:
      public int capacity
      private Inventory inventory
      private InteractableLootbox interactable
      private int defaultCapacity
      private static bool needRecalculateCapacity
      private bool initialized
      public static event Action<PlayerStorage, Inventory, int> OnPlayerStorageChange
      public static event Action<StorageCapacityCalculationHolder> OnRecalculateStorageCapacity
      public static event Action OnTakeBufferItem
      public static event Action<Item> OnItemAddedToBuffer
      public static event Action OnLoadingFinished
  7 个 Property:
      public static PlayerStorage Instance
      public static Inventory Inventory
      public static List<ItemTreeData> IncomingItemBuffer
      public InteractableLootbox InteractableLootBox
      public int DefaultCapacity
      public static bool Loading
      public static bool TakingItem
  1 个 Constant:
      private const string inventorySaveKey
